<!DOCTYPE html>

<head>
    <title>Abschlussarbeitsinfotool</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="/javascript.js"></script>
    <link rel="stylesheet" href="/style.css">

    <!--- Scripte und Librarys für das Contact Template -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/noui/nouislider.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <!--===============================================================================================-->

</head>
<body>

<header>

    <h1 class = "site-logo"><img src="/Bilder/TH_Nuernberg_RGB.jpg"
                                 alt="Logo der Startseite"
                                 width = "340"
                                 height = "50"></h1>
    <div class ="a">
        <p class="site-slogan" style = color:black><strong>ThesisAndMore</strong></p>
        <p class="site-slogan-beschreibung" style = color:black >Dein Weg zur Abschlussarbeit!</p>
    </div>



</header>
<!-- Navigationsbar -->
<nav class="site-nav">

    <ul class="site-nav-list">
        <li><a href ="startseite.html">Startseite</a></li>
        <li><a href ="allgInfo.html">Allgemeine Informationen</a></li>
        <li><a href ="abschlussarbeitsthemen.html">Abschlussarbeitsthemen</a></li>
        <li><a class="current" href ="vorschlaege.html">Eigene Themenvorschläge</a></li>
        <li><a href ="professoren.html">Professoren</a></li>

        <div class ="site-nav-right">
            <li><a href = "#email"><a href ="mailto:info@th-nuernberg.de">E-Mail</a></link></a></li>
            <li><a href = "#tel"><link>+49 911/5880-0</link></a></li>
        </div>
    </ul>

</nav>

<main class="mainClass">
<div class="container-contact100">
    <div class="wrap-contact100">
        <form id="contactForm" class="contact100-form validate-form" action="mailto:" method="POST" enctype="text/plain">
                <span class="contact100-form-title">
                    Kontaktiere uns
                </span>

            <div class="wrap-input100 validate-input bg1" data-validate="Bitte trage Deinen Namen ein">
                <span class="label-input100">Vor- und Nachname</span>
                <input class="input100" type="text" name="Vor- und Nachname" placeholder="Bitte trage Deinen Namen ein">
            </div>

            <div class="wrap-input100 validate-input bg1 rs1-wrap-input100" data-validate = "Trage Deine E-Mail ein">
                <span class="label-input100">Email</span>
                <input class="input100" type="text" name="E-Mail" placeholder="Trage Deine E-Mail ein">
            </div>

            <div class="wrap-input100 bg1 rs1-wrap-input100">
                <span class="label-input100">Intern/Extern</span>
                <div>
                    <select id="arbeitTyp" class="js-select2" name="Arbeitsumfeld">
                        <option>Intern</option>
                        <option>Extern</option>
                    </select>
                    <div class="dropDownSelect2"></div>
                </div>
            </div>
            <div class="wrap-input100 validate-input bg1" data-validate="Bitte trage den Titel der Arbeit ein">
                <span class="label-input100">Titel der Arbeit</span>
                <input class="input100" type="text" name="Titel der Arbeit" placeholder="Bitte trage den Titel der Arbeit ein">
            </div>

            <div class="wrap-input100 bg1 rs1-wrap-input100">
                <span class="label-input100">Professor</span>
                <div>
                    <select id="profSelect" class="js-select2" name="Professor">
                    </select>
                    <div class="dropDownSelect2"></div>
                </div>
            </div>

            <div class="wrap-input100 bg1 rs1-wrap-input100">
                <span class="label-input100">Studiengang</span>
                <div>
                    <select class="js-select2" name="Studiengang">
                        <option>Wirtschaftsinformatik</option>
                        <option>Medieninformatik</option>
                        <option>Informatik</option>
                    </select>
                    <div class="dropDownSelect2"></div>
                </div>
            </div>

            <div class="wrap-input100 input100-select bg1">
                <span class="label-input100">Art der Arbeit</span>
                <div>
                    <select class="js-select2" name="Art der Arbeit">
                        <option>Bachelor</option>
                        <option>Master</option>
                    </select>
                    <div class="dropDownSelect2"></div>
                </div>
            </div>

            <div class="wrap-input100 bg1 rs1-wrap-input100">
                <span class="label-input100">Zeitraum</span>
                <input class="input100" type="text" name="Zeitraum" value ="Bitte geben sie den Zeitraum an">
                <script>
                    $(function() {
                        $('input[name="Zeitraum"]').daterangepicker({
                            opens: 'right',
                            locale: {
                                format: 'DD.MM.YYYY'
                            }
                        }, function(start, end, label) {
                            console.log("A new date selection was made: " + start.format('DD.MM.YYYY') + ' to ' + end.format('DD.MM.YYYY'));
                        });
                    });
                </script>

            </div>
            <div class="wrap-input100 bg1 rs1-wrap-input100">
                <div class="w-full dis-none js-show-service">
                    <span class="label-input100">Name des Unternehmens (Optional)</span>
                    <div class="contact100-form-radio m-t-15">
                        <input class="input100" type="text" name="Firmenname" placeholder="Firmennamen hier eintragen">
                    </div>
                    <div class="wrap-contact100-form-radio"></div>
                </div>
            </div>

            <div class="wrap-input100 validate-input bg1 rs1-alert-validate" data-validate = "Bitte hier Nachricht eintragen">
                <span class="label-input100">Beschreibung</span>
                <input class="input100"  type ="text" name="Beschreibung" placeholder="Bitte trage hier deine Nachricht ein">
            </div>

            <div class="container-contact100-form-btn">
                <button class="contact100-form-btn">
                        <span>
                            SENDEN
                            <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
                        </span>
                </button>
            </div>
        </form>
    </div>
</div>

</main>

<!--===============================================================================================-->
<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/bootstrap/js/popper.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/select2/select2.min.js"></script>
<script>
    //Dynamisches Laden der Professoren zur Auswahl
    $(document).ready(function (){
        $.ajax({
            url: "/professoren/",
            type: "GET",
            success: function (professoren) {
                for(var i = 0; i < professoren.length; i++){
                    var option = "<option value='" + professoren[i].email + "'>" + professoren[i].name + "</option>";
                    $("#profSelect").append(option);
                }
            }
        });
    })

    //Zusammenbauen der Email-Daten aus den Eingabefeldern
    $("#contactForm").on("submit", function() {
        var form = $(this);
        var formAction = "mailto:";
        var thesisType = $("[name='Art der Arbeit']").val();
        var thesisName = $("[name='Titel der Arbeit']").val();

        //Einfügen der Mail/Betreff in die Action (für den POST)
        var email = $("#profSelect").val();
        var message = "";
        $("#contactForm input, #contactForm select").each(function (elem, index) {
            if($(this).is("input")){
                message += $(this).prop("name") + " : " + $(this).val().trim() + "\n";
            }
            else {
                message += $(this).prop("name") + " : " + $(this).find("option:selected").text().trim() + "\n";
            }
        });
        var bodyEncoded = "&body=" + encodeURIComponent(message);
        var subjectEncoded = "?subject=" + encodeURIComponent("Anfrage " + thesisType + "arbeit mit dem Titel \"" + thesisName + "\"");

        var action = formAction + email + subjectEncoded + bodyEncoded;
        $(form).prop("action", action);
    });

    //Generieren der Dropdowns
    $(".js-select2").each(function() {
        $(this).select2({
            minimumResultsForSearch: 20,
            dropdownParent: $(this).next('.dropDownSelect2')
        });
    });

    //Anzeigen/Schließen des Dropdowns zur Eingabe des Firmennamens
    $("#arbeitTyp").on('select2:close', function (e){
        if($(this).val() == "Intern") {
            $('.js-show-service').slideUp();
        }
        else {
            $('.js-show-service').slideDown();
        }
    });
</script>
<!--===============================================================================================-->
<script src="vendor/daterangepicker/moment.min.js"></script>
<script src="vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
<script src="vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
<script src="vendor/noui/nouislider.min.js"></script>
<script>
    var skipValues = [
        document.getElementById('value-lower'),
        document.getElementById('value-upper')
    ];
</script>
<!--===============================================================================================-->
<script src="js/main.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-23581568-13');
</script>



</body>

